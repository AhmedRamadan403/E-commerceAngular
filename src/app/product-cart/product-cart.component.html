<div class="m-3 ">
            <!-- Modern Cart Button -->
    <button class="btn btn-light border rounded-pill shadow-sm position-relative d-flex align-items-center px-3 py-2" 
        id="cartDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
        </svg>
        <span class="badge bg-danger position-absolute top-0 start-100 translate-middle cart-item-count">{{CartProducts.length}}</span>
    </button>

    <!-- Dropdown Menu -->
    <ul class="dropdown-menu dropdown-menu-end p-3 shadow-lg rounded-3" aria-labelledby="cartDropdown" 
        style="width: 500px; max-height: 400px; overflow-y: auto; border: none;">
        
        <!-- Cart Header -->
        <li class="dropdown-header text-center">
            <h5 class="fw-bold mb-0">Your Cart</h5>
            <small class="text-muted">(<span class="cart-item-count">{{CartProducts.length}}</span> items)</small>
        </li>
        <hr class="my-2">

        <!-- Cart Items -->
        <li>
            <ul class="list-group list-group-flush  ">
                @for (product of CartProducts; track $index) {
                    <li class="list-group-item d-flex align-items-center">
                        <img [src]="product.thumbnail" class="rounded shadow-sm me-2" width="50" alt="{{product.title}}">
                        <div class="flex-grow-1">
                            <p class="mb-1 card-title text-truncate">{{product.title}}</p>
                            <small class="card-text fw-bold text-success">${{product.price}}</small>
                        </div>
                        <button class="btn btn-sm btn-outline-danger rounded-circle remove-cart-item" title="Remove" (click)="RemoveFromCart(product)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                                <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"/>
                              </svg>
                        </button>
                    </li>
                }
            </ul>
        </li>

        <!-- Checkout Button -->
        <li class="text-center mt-3">
            <a href="app-ecommerce-checkout.html" class="btn btn-primary w-100 rounded-pill shadow-sm">
                <i class="feather icon-shopping-cart"></i> Checkout
            </a>
        </li>
    </ul>
</div>